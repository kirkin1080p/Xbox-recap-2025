<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Xbox Recap</title>
  <link rel="stylesheet" href="./style.css?v=2026.7" />
</head>
<body>
  <div class="bg" aria-hidden="true">
    <div class="bgGlow"></div>
  </div>

  <header class="siteHeader" id="siteHeader">
    <div class="brand">
      <div class="logo" aria-hidden="true">X</div>
      <div>
        <h1>Xbox Recap <span class="year">2025</span></h1>
        <p class="tagline">Play. Track. Flex.</p>
      </div>
    </div>

    <div class="headerActions">
      <div id="userArea" class="userArea">
        <div class="avatarWrap sm" aria-hidden="true">
          <img id="userAvatar" class="userAvatar" alt="Not connected" crossorigin="anonymous" referrerpolicy="no-referrer" />
          <div id="userAvatarFallback" class="avatarFallback sm">?</div>
          <span class="avatarRing sm"></span>
        </div>

        <div class="userMeta">
          <div id="userName" class="userName">Not connected</div>
          <div id="userBadge" class="userBadge off">Not connected</div>
        </div>

        <button id="signoutBtn" class="btn ghost small" type="button" disabled>Sign out</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="searchRow" id="searchRow">
      <div class="searchBox">
        <label class="lblGt" for="gamertagInput">Gamertag</label>
        <div class="searchInputRow">
          <input id="gamertagInput" type="text" placeholder="e.g. KirkIn1080p" autocomplete="off" />
          <button id="generateBtn" class="btn primary" type="button">Generate</button>
        </div>
        <p class="hint">Tip: share the link after you generate. It will keep the gamertag in the URL.</p>

        <!-- Small note to set expectations (keeps structure/IDs intact) -->
        <p class="lookupNote"><em>Tracking starts from the moment you use Xbox Recap. Some Xbox data depends on privacy settings and sign-in.</em></p>
      </div>

      <!-- Right column: shows Connect prompt (logged out) -->
      <div class="ctaBox" id="signinPrompt">
        <div class="ctaTop">
          <div class="ctaIcon">ğŸ”</div>
          <div class="ctaCopy">
            <p class="ctaTitle">Want the best version?</p>
            <p class="ctaText">Connect Xbox to unlock richer stats, achievements & images.</p>
          </div>
        </div>

        <a id="signinBtn" class="btn ghost ctaBtn" href="#">Connect Xbox</a>
        <p class="tiny">By generating a recap you agree to tracking from today onward. We donâ€™t sell data.</p>
      </div>

      <!-- Right column: Badges & Milestones placeholder (coming soon) -->
      <section class="badgeBox hidden" id="badgeBox" aria-label="Badges and milestones">
        <div class="badgeTop">
          <div class="badgeIcon" aria-hidden="true">ğŸ…</div>
          <div class="badgeCopy">
            <p class="badgeTitle">Badges & Milestones</p>
            <p class="badgeText">Coming soon â€” earn site achievements and pin your favourites here.</p>
          </div>
          <a class="badgeLink" href="#badges">Customize</a>
        </div>

        <div class="badgeGrid">
          <div class="badgeGroup">
            <div class="badgeGroupTitle">Badges</div>
            <div class="badgeRow">
              <span class="miniBadge">ğŸ§ª Beta Tester</span>
              <span class="miniBadge">ğŸ”¥ Streaker</span>
              <span class="miniBadge">ğŸ® Variety Pack</span>
              <span class="miniBadge">ğŸ† Achievement Hunter</span>
              <span class="miniBadge">ğŸ›¡ï¸ Support Main</span>
            </div>
          </div>

          <div class="badgeGroup">
            <div class="badgeGroupTitle">Milestones</div>
            <div class="badgeRow">
              <span class="miniMilestone">âœ… 1st Recap</span>
              <span class="miniMilestone">ğŸ“… 7-day streak</span>
              <span class="miniMilestone">ğŸ¯ 10 unique games</span>
              <span class="miniMilestone">â­ First rare flex</span>
              <span class="miniMilestone">ğŸ” 30-day returner</span>
            </div>
          </div>
        </div>

        <div class="badgeFoot muted">
          Tip: these will become real unlocks + a profile page where you can pin your favourites.
        </div>
      </section>
    </section>

    <section id="status" class="status hidden"></section>

    <section id="gamerCardWrap" class="cardShell hidden">
      <div id="gamerCard" class="gamerCard">
        <div class="cardTop">
          <div class="profileRow">
            <div class="avatarWrap" aria-hidden="true">
              <img id="profilePic" class="pfp" alt="No gamerpic" crossorigin="anonymous" referrerpolicy="no-referrer" />
              <div id="profilePicFallback" class="avatarFallback">?</div>
              <span class="avatarRing"></span>
            </div>

            <div class="profileCopy">
              <div id="gtName" class="gtName">â€”</div>
              <div id="presence" class="presence muted">â€”</div>
              <div class="metaRow">
                <span id="dataQualityPill" class="pill">Tracking</span>
                <span id="lastUpdatedPill" class="pill mutedPill">Updated â€”</span>
              </div>
            </div>
          </div>
        </div>

        <div class="grid">
          <div class="stat">
            <div class="k">Gamerscore</div>
            <div class="v" id="gamerscore">â€”</div>
            <div class="s" id="gamerscoreDelta">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Days played</div>
            <div class="v" id="daysPlayed">â€”</div>
            <div class="s" id="playRange">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Favourite</div>
            <div class="v" id="favGame">â€”</div>
            <div class="s" id="favGameSessions">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Unique games</div>
            <div class="v" id="uniqueGames">â€”</div>
            <div class="s" id="oneHit">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Current streak</div>
            <div class="v" id="currentStreak">â€”</div>
            <div class="s" id="longestStreak">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Longest break</div>
            <div class="v" id="longestBreak">â€”</div>
            <div class="s">days</div>
          </div>

          <div class="stat">
            <div class="k">Peak day</div>
            <div class="v" id="peakDay">â€”</div>
            <div class="s" id="peakDaySub">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Most active weekday</div>
            <div class="v" id="activeWeekday">â€”</div>
            <div class="s" id="activeWeekdaySub">â€”</div>
          </div>

          <div class="stat">
            <div class="k">Most active month</div>
            <div class="v" id="activeMonth">â€”</div>
            <div class="s" id="activeMonthSub">â€”</div>
          </div>
        </div>

        <div id="achievementBlock" class="achievement hidden">
          <img id="achievementIcon" class="achievementIcon hidden" alt="Achievement icon" crossorigin="anonymous" referrerpolicy="no-referrer" />
          <div class="achievementCopy">
            <div id="achievementName" class="achievementName">â€”</div>
            <div id="achievementPercent" class="achievementPercent">â€”</div>
            <div id="achievementContext" class="achievementContext">â€”</div>
          </div>
        </div>

        <div class="trackingLine" id="trackingInfo">â€”</div>

        <div class="share">
          <div class="shareRow">
            <button id="exportBtn" class="btn" type="button">Export PNG</button>
            <button id="copyLinkBtn" class="btn ghost" type="button">Copy link</button>
            <a id="openEmbedLink" class="btn ghost" href="#" target="_blank" rel="noopener noreferrer">Open embed</a>
          </div>

          <div class="embedRow">
            <div class="embedCol">
              <label class="label" for="liveLink">Embed link</label>
              <div class="embedInputRow">
                <input id="liveLink" type="text" readonly />
                <button id="copyLiveLinkBtn" class="btn ghost" type="button">Copy</button>
              </div>
            </div>

            <div class="embedCol">
              <label class="label" for="bbcode">BBCode</label>
              <div class="embedInputRow">
                <input id="bbcode" type="text" readonly />
                <button id="copyBbBtn" class="btn ghost" type="button">Copy</button>
              </div>
            </div>
          </div>
        </div>

        <div class="journal">
          <div class="journalHead">
            <div class="journalTitle">Xbox Journal</div>
            <div class="journalHint muted">A daily entry from your console. Roast-friendly.</div>
          </div>

          <div id="blogEntries" class="blogEntries"></div>
        </div>
      </div>
    </section>

    <section class="donate" id="donate">
      <div class="donateCard">
        <!-- LEFT -->
        <div class="donateLeft">
          <div class="donateTitle">Support the project</div>
          <div class="donateSub muted">Help keep the workers running and the recaps improving.</div>
        </div>

        <!-- CENTER -->
        <div class="donateCenter" aria-label="Social links">
          <a class="socialBtn" href="#" target="_blank" rel="noopener noreferrer" aria-label="Twitter / X">ğ•</a>
          <a class="socialBtn" href="#" target="_blank" rel="noopener noreferrer" aria-label="YouTube">â–¶</a>
          <a class="socialBtn" href="#" target="_blank" rel="noopener noreferrer" aria-label="TikTok">â™ª</a>
        </div>

        <!-- RIGHT -->
        <div class="donateRight">
          <div class="donateStats">
            <div class="donateStat">
              <div class="k">Raised</div>
              <div class="v" id="donateTotal">Â£0</div>
            </div>
            <div class="donateStat">
              <div class="k">Supporters</div>
              <div class="v" id="donateSupporters">0</div>
            </div>
          </div>

          <a class="btn primary donateBtn" href="https://buymeacoffee.com/keepxboxfree" target="_blank" rel="noopener noreferrer">
            Buy me a cookie
          </a>
        </div>
      </div>
    </section>

    <!-- Placeholder anchor for future badge settings / page section -->
    <section id="badges" class="hidden"></section>

    <footer class="siteFooter" id="siteFooter">
      <p class="muted">
        Xbox Recap tracks activity from the moment you use it. Some Xbox data depends on account privacy and sign-in.
      </p>
    </footer>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous"></script>
  <script src="./script.js?v=2026.7"></script>
</body>
</html>
