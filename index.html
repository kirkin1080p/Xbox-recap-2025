<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Xbox Recap 2025</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="bg">
    <div class="bgGlow"></div>
  </div>

  <header class="siteHeader" id="siteHeader">
    <div class="brand">
      <div class="logo">X</div>
      <div>
        <h1>Xbox Recap <span class="year">2025</span></h1>
        <p class="tagline">Tracked properly. No guesswork.</p>
      </div>
    </div>

    <div class="headerActions">
      <a class="chip" href="https://buymeacoffee.com/KeepXboxFree" target="_blank" rel="noreferrer">ğŸª Support</a>
      <a class="chip" id="openEmbedLink" href="#" title="Live signature card">ğŸªª Live Card</a>

      <!-- User area (always visible) -->
      <div id="userArea" class="userArea">
        <img id="userAvatar" class="userAvatar" alt="Not connected" />
        <div class="userMeta">
          <div id="userName" class="userName">Not connected</div>
          <div id="userBadge" class="userBadge off">Not connected</div>
        </div>
        <button id="signoutBtn" class="chipBtn hidden" type="button" title="Sign out">Sign out</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="searchRow" id="searchRow">
      <div class="searchBox">
        <label class="label" for="gamertagInput">Gamertag</label>
        <div class="searchInputRow">
          <input id="gamertagInput" type="text" placeholder="e.g. KirkIn1080p" autocomplete="off" />
          <button id="generateBtn" class="btn primary" type="button">Generate</button>
        </div>
        <p class="hint">Tip: share the link after you generate. It will keep the gamertag in the URL.</p>
      </div>

      <div class="ctaBox" id="signinPrompt">
        <div class="ctaTop">
          <div class="ctaIcon">ğŸ”</div>
          <div class="ctaCopy">
            <p class="ctaTitle">Want the best version?</p>
            <p class="ctaText">Connect Xbox to unlock richer stats, achievements & images.</p>
          </div>
        </div>

        <a id="signinBtn" class="btn ghost ctaBtn" href="#">Connect Xbox</a>
        <p class="tiny">By generating a recap you agree to tracking from today onward. We donâ€™t sell data.</p>
      </div>
    </section>

    <section id="status" class="status hidden"></section>

    <section id="gamerCardWrap" class="cardShell hidden">
      <!-- âœ… changed from class="card" to class="gamerCard" so your CSS applies -->
      <section id="gamerCard" class="gamerCard">

        <div class="cardTopBar">
          <div class="pillRow">
            <div id="dataQualityPill" class="pill">Tracking</div>
            <div id="lastUpdatedPill" class="pill subtle">Last refreshed â€”</div>
          </div>
        </div>

        <div class="cardHeader">
          <img id="profilePic" class="pfp" alt="Gamerpic" />
          <div class="headText">
            <div id="gtName" class="gtName">â€”</div>
            <div id="presence" class="presence">â€”</div>
          </div>
        </div>

        <div class="grid">
          <div class="tile">
            <div class="k">Gamerscore</div>
            <div class="v" id="gamerscore">â€”</div>
            <div class="s" id="gamerscoreDelta">â€”</div>
          </div>

          <div class="tile">
            <div class="k">Days played</div>
            <div class="v" id="daysPlayed">â€”</div>
            <div class="s" id="playRange">â€”</div>
          </div>

          <div class="tile">
            <div class="k">Favourite</div>
            <div class="v" id="favGame">â€”</div>
            <div class="s" id="favGameSessions">â€”</div>
          </div>
        </div>

        <div class="grid">
          <div class="tile">
            <div class="k">Current streak</div>
            <div class="v" id="currentStreak">â€”</div>
            <div class="s" id="longestStreak">â€”</div>
          </div>

          <div class="tile">
            <div class="k">Longest break</div>
            <div class="v" id="longestBreak">â€”</div>
            <div class="s">days</div>
          </div>

          <div class="tile">
            <div class="k">Unique games</div>
            <div class="v" id="uniqueGames">â€”</div>
            <div class="s" id="oneHit">â€”</div>
          </div>
        </div>

        <div class="grid">
          <div class="tile">
            <div class="k">Peak day</div>
            <div class="v" id="peakDay">â€”</div>
            <div class="s" id="peakDaySub">â€”</div>
          </div>

          <div class="tile">
            <div class="k">Most active weekday</div>
            <div class="v" id="activeWeekday">â€”</div>
            <div class="s" id="activeWeekdaySub">â€”</div>
          </div>

          <div class="tile">
            <div class="k">Most active month</div>
            <div class="v" id="activeMonth">â€”</div>
            <div class="s" id="activeMonthSub">â€”</div>
          </div>
        </div>

        <div id="achievementBlock" class="achievement hidden">
          <!-- âœ… changed class from achievementIcon -> achIcon so itâ€™s fixed size -->
          <img id="achievementIcon" class="achIcon hidden" alt="Achievement icon" />
          <div class="achievementCopy">
            <div id="achievementName" class="achievementName">â€”</div>
            <div id="achievementPercent" class="achievementPercent">â€”</div>
            <div id="achievementContext" class="achievementContext">â€”</div>
          </div>
        </div>

        <div id="trackingInfo" class="trackingInfo">â€”</div>

        <div class="shareBox">
          <div class="shareRow">
            <button id="exportBtn" class="btn ghost" type="button">Export PNG</button>
            <button id="copyLinkBtn" class="btn ghost" type="button">Copy Link</button>
          </div>

          <div class="shareFields">
            <div class="field">
              <div class="k">Live card link (embed)</div>
              <div class="fieldRow">
                <input id="liveLink" type="text" readonly />
                <button id="copyLiveLinkBtn" class="btn ghost" type="button">Copy</button>
              </div>
            </div>

            <div class="field">
              <div class="k">Forum BBCode</div>
              <div class="fieldRow">
                <input id="bbcode" type="text" readonly />
                <button id="copyBbBtn" class="btn ghost" type="button">Copy</button>
              </div>
            </div>
          </div>
        </div>

        <div class="journal">
          <div class="sectionTitle">Xbox Journal</div>
          <div id="blogEntries" class="blogEntries">
            <div class="blogLine muted">Generate a recap to load entriesâ€¦</div>
          </div>
        </div>
      </section>
    </section>

    <section class="donate" id="donate">
      <div class="donateCard">
        <div class="donateTitle">Keep it free</div>
        <div class="donateText muted">
          Hosting + API calls cost money. If this made you smile, chuck a cookie in the jar.
        </div>

        <div class="donateStats">
          <div class="donateStat">
            <div class="donateLabel">Raised</div>
            <div id="donateTotal" class="donateValue">â€”</div>
          </div>
          <div class="donateStat">
            <div class="donateLabel">Supporters</div>
            <div id="donateSupporters" class="donateValue">â€”</div>
          </div>
        </div>

        <div class="donateActions">
          <a class="btn primary" href="https://buymeacoffee.com/KeepXboxFree" target="_blank" rel="noreferrer">Support</a>
        </div>
      </div>
    </section>

    <footer class="siteFooter" id="siteFooter">
      <p class="muted">
        Xbox Recap tracks activity from the moment you use it. Some Xbox data depends on account privacy and sign-in.
      </p>
    </footer>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous"></script>
  <script src="./script.js?v=2025.12.21"></script>
</body>
</html>
