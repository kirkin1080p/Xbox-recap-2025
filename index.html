<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Xbox Recap 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Xbox Recap 2026 â€” tracked, not guessed." />

  <link rel="stylesheet" href="./style.css" />

  <!-- Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
  <div class="bg">
    <div class="bgGlow"></div>
  </div>

  <header class="siteHeader" id="siteHeader">
    <div class="brand">
      <div class="logo">X</div>
      <div>
        <h1>Xbox Recap <span class="year">2026</span></h1>
        <p class="tagline">Tracked properly. No guesswork.</p>
      </div>
    </div>

    <div class="headerActions">
      <a class="chip" href="https://buymeacoffee.com/KeepXboxFree" target="_blank" rel="noreferrer">ğŸª Support</a>
      <a class="chip" id="openEmbedLink" href="#" title="Live signature card">ğŸªª Live Card</a>

      <!-- NEW: User area (always visible) -->
      <div id="userArea" class="userArea">
        <img id="userAvatar" class="userAvatar" alt="Not connected" />
        <div class="userMeta">
          <div id="userName" class="userName">Not connected</div>
          <div id="userBadge" class="userBadge off">Not connected</div>
        </div>

        <button id="signoutBtn" class="chipBtn hidden" type="button" title="Sign out">
          Sign out
        </button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="searchRow" id="searchRow">
      <div class="searchBox">
        <label class="label" for="gamertagInput">Gamertag</label>
        <div class="searchInputRow">
          <input id="gamertagInput" type="text" placeholder="e.g. KirkIn1080p" autocomplete="off" />
          <button id="generateBtn" class="btn primary">Generate</button>
        </div>
        <p class="hint">Tip: share the link after you generate. It will keep the gamertag in the URL.</p>
      </div>

      <div class="ctaBox" id="signinPrompt">
        <div class="ctaTop">
          <div class="ctaIcon">ğŸ”</div>
          <div class="ctaCopy">
            <p class="ctaTitle">Want the best version?</p>
            <p class="ctaText">Connect Xbox to unlock richer stats, achievements & images.</p>
          </div>
        </div>

        <!-- One-click sign in (opens in new tab via JS) -->
        <a id="signinBtn" class="btn ghost ctaBtn" href="#">Connect Xbox</a>

        <p class="tiny">By generating a recap you agree to tracking from today onward. We donâ€™t sell data.</p>
      </div>
    </section>

    <section id="status" class="status hidden"></section>

    <!-- GamerCard -->
    <section id="gamerCardWrap" class="cardShell hidden">
      <div class="cardTopBar">
        <div class="cardTopLeft">
          <span class="pill" id="dataQualityPill">Tracking</span>
          <span class="pill subtle" id="lastUpdatedPill">Updated â€”</span>
        </div>

        <div class="cardTopRight">
          <button id="exportBtn" class="btn small">Export PNG</button>
          <button id="copyLinkBtn" class="btn small ghost">Copy link</button>
        </div>
      </div>

      <div id="gamerCard" class="gamerCard">
        <div class="gamerHeader">
          <div class="pfpWrap">
            <img id="profilePic" class="pfp" alt="Xbox gamerpic" />
            <div class="pfpRing"></div>
          </div>

          <div class="who">
            <h2 id="gtName" class="gtName">â€”</h2>
            <p id="presence" class="presence muted">â€”</p>

            <div class="miniRow">
              <div class="mini">
                <span class="miniLabel">Gamerscore</span>
                <span class="miniValue" id="gamerscore">â€”</span>
                <span class="miniSub" id="gamerscoreDelta"></span>
              </div>

              <div class="mini">
                <span class="miniLabel">Days played</span>
                <span class="miniValue" id="daysPlayed">â€”</span>
                <span class="miniSub" id="playRange"></span>
              </div>

              <div class="mini">
                <span class="miniLabel">Favourite</span>
                <span class="miniValue" id="favGame">â€”</span>
                <span class="miniSub" id="favGameSessions"></span>
              </div>
            </div>
          </div>
        </div>

        <!-- Stats grid -->
        <div class="grid">
          <div class="stat">
            <div class="statLabel">Current streak</div>
            <div class="statValue" id="currentStreak">â€”</div>
            <div class="statSub" id="longestStreak">â€”</div>
          </div>

          <div class="stat">
            <div class="statLabel">Longest break</div>
            <div class="statValue" id="longestBreak">â€”</div>
            <div class="statSub">days away</div>
          </div>

          <div class="stat">
            <div class="statLabel">Unique games</div>
            <div class="statValue" id="uniqueGames">â€”</div>
            <div class="statSub" id="oneHit">â€”</div>
          </div>

          <div class="stat">
            <div class="statLabel">Peak day</div>
            <div class="statValue" id="peakDay">â€”</div>
            <div class="statSub" id="peakDaySub">â€”</div>
          </div>

          <div class="stat">
            <div class="statLabel">Most active weekday</div>
            <div class="statValue" id="activeWeekday">â€”</div>
            <div class="statSub" id="activeWeekdaySub">â€”</div>
          </div>

          <div class="stat">
            <div class="statLabel">Most active month</div>
            <div class="statValue" id="activeMonth">â€”</div>
            <div class="statSub" id="activeMonthSub">â€”</div>
          </div>
        </div>

        <!-- Achievement -->
        <div id="achievementBlock" class="achBlock hidden">
          <img id="achievementIcon" class="achIcon hidden" alt="Achievement icon" />
          <div class="achMeta">
            <div id="achievementName" class="achName">â€”</div>
            <div id="achievementPercent" class="achPercent muted">â€”</div>
            <div id="achievementContext" class="achContext muted">â€”</div>
          </div>
        </div>

        <!-- Journal -->
        <div class="blogBox">
          <div class="blogTitle">Xbox Journal</div>
          <div id="blogEntries" class="blogEntries"></div>
        </div>

        <div class="cardFooter">
          <div class="footerLeft">
            <div class="tiny muted" id="trackingInfo">â€”</div>
          </div>

          <div class="footerRight">
            <div class="signature muted">xboxrecap â€¢ live card</div>
          </div>
        </div>
      </div>

      <!-- Share/Embed -->
      <div class="shareBox">
        <div class="shareTitle">Signature / Embed</div>
        <div class="shareGrid">
          <div class="shareItem">
            <div class="shareLabel">Live card link</div>
            <div class="shareRow">
              <input id="liveLink" readonly />
              <button id="copyLiveLinkBtn" class="btn small ghost">Copy</button>
            </div>
            <div class="tiny muted">Responsive â€œsignature cardâ€ page.</div>
          </div>

          <div class="shareItem">
            <div class="shareLabel">BBCode (forums)</div>
            <div class="shareRow">
              <input id="bbcode" readonly />
              <button id="copyBbBtn" class="btn small ghost">Copy</button>
            </div>
            <div class="tiny muted">Paste into signature settings.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Donate section -->
    <section class="donate" id="donate">
      <div class="donateLeft">
        <h3>Keep it free</h3>
        <p class="muted">
          Donations help keep Xbox Recap online and fund improvements (better stats, better visuals, better everything).
        </p>
        <div class="donateStats">
          <div class="donateStat">
            <div class="donateNum" id="donateTotal">â€”</div>
            <div class="donateLab muted">Raised</div>
          </div>
          <div class="donateStat">
            <div class="donateNum" id="donateSupporters">â€”</div>
            <div class="donateLab muted">Support events</div>
          </div>
        </div>
      </div>

      <div class="donateRight">
        <!-- Buy Me a Coffee button -->
        <script
          type="text/javascript"
          src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js"
          data-name="bmc-button"
          data-slug="KeepXboxFree"
          data-color="#0ecd11"
          data-emoji="ğŸª"
          data-font="Inter"
          data-text="Buy me a cookie"
          data-outline-color="#000000"
          data-font-color="#000000"
          data-coffee-color="#FFDD00">
        </script>
      </div>
    </section>

    <footer class="siteFooter" id="siteFooter">
      <p class="muted">
        Xbox Recap tracks activity from the moment you use it. Some Xbox data depends on account privacy and sign-in.
      </p>
    </footer>
  </main>

  <!-- html2canvas for export-to-PNG -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous"></script>

  <script src="./script.js?v=2026.3"></script>
</body>
</html>
